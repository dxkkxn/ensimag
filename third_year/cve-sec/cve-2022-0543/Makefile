build:
	docker-compose build

start:
	docker-compose up -d

start-debug:
	docker-compose up

clean:
	docker-compose down 
	docker rm redis-server attacker -f

clean-images:
	docker rmi cve-2022-0543-redis-server:latest cve-2022-0543-attacker:latest -f
	
redis-server:
	docker exec -it redis-server redis-cli

run-attack:
	docker-compose run attacker ./exploit.sh

load-data:
	./load_data.sh


simulation: fake-data run-attack
 

