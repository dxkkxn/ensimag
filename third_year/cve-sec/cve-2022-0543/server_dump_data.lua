local function fake_user(fake_name, fake_email, fake_address, fake_phone_number)
	local response = {
		name = fake_name,
		email = fake_email,
		address = fake_address,
		phone_number = tostring(fake_phone_number),
	}
	return cjson.encode(response)
end

local NUMBER_USERS = 30
math.randomseed(1)

for i = 1, NUMBER_USERS do
	local fake_name = "name" .. i
	local fake_email = fake_name .. "@mail.com"
	local fake_address = "street" .. tostring(math.random(0, 100)) .. tostring(math.random(0, 100)) .. "," .. "Grenoble"
	local fake_phone_number = math.random(3000000000, 3999999999)
	if fake_phone_number < 0 then
		fake_phone_number = -1 * fake_phone_number
	end
	local user = fake_user(fake_name, fake_email, fake_address, fake_phone_number)
	print(user)
	-- been able because we are executing this from redis that allows lua scripting
	redis.call("SET", "user:" .. i, user)
end
