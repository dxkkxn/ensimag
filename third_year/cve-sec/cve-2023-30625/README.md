# CVE-2023-30625
La démo utilise Docker Compose pour sa mise en place.

## Instructions
- Cloner le dépôt

- Dans le meme folder executer le command: 

    ```
    cd CVE_2023_30625_juan_pablo_prada_mejia_nabil_es_salihi_youssef_benjelloun_el_kbibi
    ```
- Executer le command:

    ```
    docker-compose -f rudder-stack-exploitable.yaml up -d --build
    ```

    Ca va mettre en place touts les services de rudderstack, On va faire special attention au rudder-server comme backend.
    

- Reviser les relations de la basse des donnes

    - Ouvrez un terminal séparé et exécutez, (ne fermez pas ce terminal!)

        ```
        docker exec -it db psql -U rudder -d jobsdb
        ```

    - Lister tables avec le command:

        ```
        \dt
        ```

    Ca ve retourner 34 files
  

- Executer le command:

    -  Ouvrez un terminal séparé et exécutez

        ```
        python3 sabotage.py
        ```

- Inmediatement a query injection est executee, ca va effectuer le sabotage que basicament fait 

    - Supprime toutes les tables ou relations de la base de données 

    - Dissabling toutes les fonctionnalités fournies pour rudderstack

    - Tue le processus en cours d’exécution dans le serveur backend faisant un sabotage horrible

- Pour confirmer 

    - Reprende l'ancienne terminal et execute les commands suivants:

        - Reviser tables

            ```
                \dt 
            ```

            Maintenant vous allez voir qu'il a pas des tables

        - Reviser services 

            ```
                docker ps 
            ```

            Vous allez voir que le service backend s'a arrete.

    - Comment resultat final vous confirmerez que rudderstack en particulier rudderserver a été victime d’une injection sql qui a effacé toutes les tables 

